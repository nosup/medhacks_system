{% extends 'base.html' %}
{% load crispy_forms_tags %}

{% block specificcss %}
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/home.css' %}" />
{% endblock %}

{% block body %}

{% if form != None %}
<div class=card-body style="width: 90vw; margin-left: 5vw;">
    <form action={% url 'home:home' %} method="post" enctype='multipart/form-data'>
       {% csrf_token %}
       <!--{{ form.as_p }}-->
      {{form|crispy}}

      <!-- <script type="text/javascript">
      var uni = form.getElementById("uni-dropdown");
      var other_uni = form.getElementById("other-uni");
      window.onload = function() {
        other_uni.style.display = 'none';
      }
      function showOtherField() {
        if (uni.options[uni.selectedIndex].value == "Other") {
          other_uni.style.display = 'block';
        } else {
          other_uni.style.display = 'none';
        };
      }
      </script> -->
      <p>{{ form.non_field_errors }}</p>
      <p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>
      <p>
           {{ form.docfile.errors }}
           {{ form.docfile }}
      </p>
      <p>
         Be sure to like our <a href="https://www.facebook.com/medhacks/?ref=br_rs" target="_blank">Facebook</a> for more updates!
      </p>
      <!--<p><input type="submit" value="Submit" /></p>-->

      <input class="applyButton" type="submit" value="Submit"/>


    </form>
</div>
<div style="height: 50px"></div>
{% else %}
<div id="accordion">

  <div class="card">
    <div class="card-header" id="headingOne">
      <h5 class="mb-0">
        <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
          Application Submission View
        </button>
      </h5>
    </div>
    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
      <div class="card-body">
          <p>
            {% for app in apps %}
            <strong>First Name:</strong> {{ app.first_name }}</br>
            <strong>Last Name:</strong> {{ app.last_name }}</br>
            <strong>Email:</strong> {{ app.email }}</br>
            <strong>Phone Number:</strong> {{ app.phone_number }}</br>
            <strong>Address:</strong> {{ app.address1 }}
                     {{ app.address2 }}</br>
            <strong>Zipcode:</strong> {{ app.zipcode }}</br>
            <strong>City:</strong> {{ app.city }}</br>
            <strong>Country:</strong> {{ app.country }}</br>
            <strong>Gender:</strong> {{ app.gender }}</br>
            <strong>University:</strong> {{ app.university }}</br>
            <strong>Graduation Class:</strong> {{ app.graduating_class }}</br>
            <strong>Major:</strong> {{ app.major }}</br>
            <strong>Reimbursement:</strong> {{ app.reimbursement }}</br>
            <strong>Have you attended MedHacks previously?</strong> {{ app.attended }} </br>
            <strong>Why do you want to attend MedHacks 2018?</strong> </br>
            {{ app.essay1 }} </br>
            <strong>What skills can you bring to the hackathon?</strong> </br>
            {{ app.essay2 }} </br>
            <strong>What would you like to see at MedHacks 2018?</strong> </br>
            {{ app.essay3 }} </br>
            <strong>Is there anything you would like us to know?</strong> </br>
            {{ app.essay4 }} </br>
            <a href="{{app.resume.url}}" target="_blank"><strong>Resume Submitted</strong></a>
            <br />
          {% endfor %}
          </p>
        </div>
      </div>


    </div>

  {% if form == None %}

 <div class="card">
  <div class="card-header" id="headingFour">
    <h5 class="mb-0">
      <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
        Application Status
      </button>
    </h5>
  </div>

  <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion">
    <div class="card-body">
      <div class="container">

         {% if user.userprofile.accepted == 'Y' %}
         <p>
           Congratulations! You have been accepted into 2018 MedHacks! Your travel
           reimbursement details are listed below.
         </p>
         {% elif user.userprofile.accepted == 'N' %}
         <p>
           I'm sorry, due to the large number of applicants this year, we are unable to
           accept you.
         </p>
         {% else %}
         <p>
           Application status pending
         </p>
         {% endif %}

      </div>
    </div>
  </div>


  {% endif %}

  {% if user.userprofile.campus_ambassador == 'Y' %}

  <div class="card">
    <div class="card-header" id="headingTwo">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
          Campus Ambassador
        </button>
      </h5>
    </div>
    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
      <div class="card-body">
        <div class="container">
          <p>
            Thank you for being a campus amabassador! Here are some helpful links.
          </p>
        </div>
      </div>
    </div>
  </div>
  {% endif %}

  <div class="card">
    <div class="card-header" id="headingThree">
      <h5 class="mb-0">
        <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
          Travel Reimbursement
        </button>
      </h5>
    </div>
    <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion">
      <div class="card-body">
        <div class="container">
          {% if user.userprofile.travel_reimbursement == 'Y' %}
          <p>
            You have been awarded a travel reimbursement!
          </p>
          {% elif user.userprofile.travel_reimbursement == 'N' %}
          <p>
            You are not eligible for a travel reimbursement.
          </p>
          {% else %}
          <p>

            Travel reimbursement application pending! (All reimbursements statuses
            will be marked as pending, even if you selected 'No' in the
            application).
          </p>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
</div>
{% endif %}

{% endblock %}
